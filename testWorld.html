<!DOCTYPE html>

<html>

<head>
    <title>test world</title>

    <script type="text/javascript" src="../libs/three.js"></script>
    <script type="text/javascript" src="../libs/stats.js"></script>
    <script type="text/javascript" src="../libs/physi.js"></script>
    <script type="text/javascript" src="../libs/chroma.js"></script>
    <script type="text/javascript" src="../libs/dat.gui.js"></script>
    
    <style>
        body {
            /* set margin to 0 and overflow to hidden, to
             use the complete page */
            margin: 0;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <div id="viewport"></div>
    <script>
        
    </script>
    <!--bukkit-->
    <script type="text/javascript" src="Packages/bukkit/bukkit.js"></script>
    <!--world-->
    <script type="text/javascript" src="Packages/world/world.js"></script>
    <script type="text/javascript" src="Packages/world/scene.js"></script>
    <script type="text/javascript" src="Packages/world/space.js"></script>
    <!--player-->
    <script type="text/javascript" src="Packages/player/player.js"></script>
    <script type="text/javascript" src="Packages/player/camera.js"></script>
    <script type="text/javascript" src="Packages/player/controller.js"></script>
    <!--light-->
    <script type="text/javascript" src="Packages/light/sun.js"></script>
    <!--block-->
    <script type="text/javascript" src="Packages/block/staticBlockType.js"></script>
    <script type="text/javascript" src="Packages/block/staticBlock.js"></script>
    <script type="text/javascript" src="Packages/block/dynamicBlockType.js"></script>
    <script type="text/javascript" src="Packages/block/dynamicBlock.js"></script>
    <script type="text/javascript" src="Packages/block/block.js"></script>
    
    <script type="text/javascript">
        var bukkit = new Bukkit();
        var world = new World();
        var player = new Player();
        
        //console.log(world.getWorld()); console.log(player.getPlayer());
        
        world.addStaticBlock(new Block(-3, 0, -3, 1));
        world.addStaticBlock(new Block(-3, 0, -2, 1));
        world.addStaticBlock(new Block(-3, 0, -1, 1));
        world.addStaticBlock(new Block(-3, 0, 0, 1));
        world.addStaticBlock(new Block(-3, 0, 1, 1));
        world.addStaticBlock(new Block(-3, 0, 2, 1));
        world.addStaticBlock(new Block(-3, 0, 3, 1));

        world.addStaticBlock(new Block(-2, 0, -3, 1));
        world.addStaticBlock(new Block(-2, 0, -2, 1));
        world.addStaticBlock(new Block(-2, 0, -1, 1));
        world.addStaticBlock(new Block(-2, 0, 0, 1));
        world.addStaticBlock(new Block(-2, 0, 1, 1));
        world.addStaticBlock(new Block(-2, 0, 2, 1));
        world.addStaticBlock(new Block(-2, 0, 3, 1));

        world.addStaticBlock(new Block(-1, 0, -3, 1));
        world.addStaticBlock(new Block(-1, 0, -2, 1));
        world.addStaticBlock(new Block(-1, 0, -1, 1));
        world.addStaticBlock(new Block(-1, 0, 0, 1));
        world.addStaticBlock(new Block(-1, 0, 1, 1));
        world.addStaticBlock(new Block(-1, 0, 2, 1));
        world.addStaticBlock(new Block(-1, 0, 3, 1));

        world.addStaticBlock(new Block(0, 0, -3, 1));
        world.addStaticBlock(new Block(0, 0, -2, 1));
        world.addStaticBlock(new Block(0, 0, -1, 1));
        world.addStaticBlock(new Block(0, 0, 0, 1));
        world.addStaticBlock(new Block(0, 0, 1, 1));
        world.addStaticBlock(new Block(0, 0, 2, 1));
        world.addStaticBlock(new Block(0, 0, 3, 1));

        world.addStaticBlock(new Block(1, 0, -3, 1));
        world.addStaticBlock(new Block(1, 0, -2, 1));
        world.addStaticBlock(new Block(1, 0, -1, 1));
        world.addStaticBlock(new Block(1, 0, 0, 1));
        world.addStaticBlock(new Block(1, 0, 1, 1));
        world.addStaticBlock(new Block(1, 0, 2, 1));
        world.addStaticBlock(new Block(1, 0, 3, 1));
        
        world.addStaticBlock(new Block(2, 0, -3, 1));
        world.addStaticBlock(new Block(2, 0, -2, 1));
        world.addStaticBlock(new Block(2, 0, -1, 1));
        world.addStaticBlock(new Block(2, 0, 0, 1));
        world.addStaticBlock(new Block(2, 0, 1, 1));
        world.addStaticBlock(new Block(2, 0, 2, 1));
        world.addStaticBlock(new Block(2, 0, 3, 1));

        world.addStaticBlock(new Block(3, 0, -3, 1));
        world.addStaticBlock(new Block(3, 0, -2, 1));
        world.addStaticBlock(new Block(3, 0, -1, 1));
        world.addStaticBlock(new Block(3, 0, 0, 1));
        world.addStaticBlock(new Block(3, 0, 1, 1));
        world.addStaticBlock(new Block(3, 0, 2, 1));
        world.addStaticBlock(new Block(3, 0, 3, 1));
        
        var sun = new Sun(20, 40, 20);   
        world.addLight(sun);

        bukkit.setRenderer(world.getScene(), player.getCamera());
        bukkit.runRender();
        bukkit.setRenderFunc(() => {
            world.getScene().simulate(undefined, 2);
        });
    </script>
</body>

</html>